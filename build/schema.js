// Generated by CoffeeScript 1.6.1
(function() {
  var mongoose, tag;

  mongoose = require('mongoose');

  tag = mongoose.Schema({
    name: String,
    slug: String,
    sites: [
      {
        url: String,
        title: String,
        datetime: String,
        image: String
      }
    ]
  });

  tag.path('name').validate(function(value) {
    if (value == null) {
      return false;
    }
  }, 'missing tag name');

  tag.path('sites').validate(function(value) {
    if (value == null) {
      return false;
    }
  }, 'missing sites');

  tag.path('slug').validate(function(value) {
    if (value == null) {
      return false;
    }
  }, 'missing tag slug');

  tag.path('name').validate(function(value) {
    return !/[\"\'\~\,\.\|\(\)\{\}\[\]\;\:\<\>\^\*\%\^]/.test(value);
  }, 'Invalid tag name');

  exports.tag = tag;

}).call(this);
